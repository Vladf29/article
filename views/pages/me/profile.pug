extends ../../layout

block append head
    -var titlePage='Profile'
    link(rel="stylesheet", href="/styles/profile.css")
    if (owner)
        link(rel="stylesheet", href="/styles/uploadImg.css")
        
block content
    .user-profile
        .user-profile__info-block
            .user-profile__content    
                .user-profile__info-block-content
                    .user-profile__avatar
                        .user-profile__avatar-c.js-avatar
                            img(src=`${user ? user.avatarUrl : ""}`, alt="")
                            if (owner)
                                .user-profile__avatar-upload
                                    i.fas.fa-camera
                                    span Upload
                    .user-profile__form-edit
                        if (owner)                                        
                            input.user-profile__form-edit-name.js-data-edit(value=`${user ? user.name : ""}` data-edit='name')
                        else 
                            span.user-profile__form-edit-name=user.name
                    .user-profile__form-edit
                        if (owner) 
                            input.user-profile__form-edit-describe.js-data-edit(placeholder='Describe yourself in a few words' value=`${user ? user.describe ? user.describe : '' : ""}` data-edit='describe')                                                 
                        else 
                            span.user-profile__form-edit-describe=user.describe
        .user-profile__tab-bar
            .user-profile__content
                .user-profile__tabs
                    -var items = ['Profile','Posts','Likes']
                    each item in items
                        a.user-profile__tab(href='/me/'+item.toLowerCase())=item
        .user-profile__content
            .user-profile__c
                .user-profile__heading
                    span.user-profile__title About Me
                    if (owner)
                        .user-profile__edit-btn.js-edit-btn(data-state='show')
                            i.fas.fa-pencil-alt
                            span Edit
                        .user-profile__edit-btn.js-edit-btn-ok(data-state='hidden')
                            i.fas.fa-check
                            span Ok
                .user-profile__block.about-block
                    .about-block__c(data-state='show' data-action='ok')
                        if (user && user.aboutMe)
                            p=user.aboutMe
                        else 
                            p
                    if (owner)
                        .about-block__c(data-state='hidden' data-action='edit')
                            textarea.about-block__field(placeholder='About Me...')

            .user-profile__c
                .user-profile__heading
                    span.user-profile__title Posts by Vlad
                .user-profile__block.post-block
                    .post-block__content
                    if (owner)
                        .post-block__write
                            i(class="fas fa-plus-circle")
                            span Write a post
            if (owner)              
                include ../../parts/uploadImg
                
block append script
    if (owner)
        script(src="/js/profile.js")